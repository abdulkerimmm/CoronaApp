{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Abdul/Masa\\xFCst\\xFC/React/big-projects/Corona App/corona  app WITH context api/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Abdul/Masa\\xFCst\\xFC/React/big-projects/Corona App/corona  app WITH context api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Abdul/Masa\\xFCst\\xFC/React/big-projects/Corona App/corona  app WITH context api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{API_URL,API_TOKEN}from\"../const\";import{useEffect,useState}from\"react\";import axios from\"axios\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CoronaForCountry=function CoronaForCountry(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),queryText=_useState4[0],setQueryText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.get(\"\".concat(API_URL,\"countriesData?country=\").concat(queryText),{headers:{authorization:API_TOKEN}});case 3:response=_context.sent;setLoading(false);setData(response.data.result);console.log(response);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[queryText,fetchData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{value:queryText,onChange:function onChange(e){setQueryText(e.target.value);},placeholder:\"Search ...\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-violet-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 gap-4\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"}),data.map(function(item){return/*#__PURE__*/_jsx(Card,{country:item.country,totalDeaths:item.totalDeaths,totalCase:item.totalCases,totalRecovered:item.totalRecovered},item.country);})]})]});};export default CoronaForCountry;","map":{"version":3,"names":["API_URL","API_TOKEN","useEffect","useState","axios","Card","CoronaForCountry","data","setData","queryText","setQueryText","loading","setLoading","fetchData","get","headers","authorization","response","result","console","log","e","target","value","map","item","country","totalDeaths","totalCases","totalRecovered"],"sources":["C:/Users/Abdul/Masaüstü/React/big-projects/Corona App/corona  app WITH context api/src/components/CoronaForCountry.js"],"sourcesContent":["import { API_URL, API_TOKEN } from \"../const\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Card from \"./Card\";\r\n\r\nconst CoronaForCountry = () => {\r\n  const [data, setData] = useState([]);\r\n  const [queryText, setQueryText] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    const response = await axios.get(\r\n      `${API_URL}countriesData?country=${queryText}`,\r\n      {\r\n        headers: {\r\n          authorization: API_TOKEN,\r\n        },\r\n      }\r\n    );\r\n    setLoading(false);\r\n    setData(response.data.result);\r\n    console.log(response);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [queryText, fetchData]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-4\">\r\n        <input\r\n          value={queryText}\r\n          onChange={(e) => {\r\n            setQueryText(e.target.value);\r\n          }}\r\n          placeholder=\"Search ...\"\r\n          className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-violet-600\"\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-4 gap-4\">\r\n        {loading && <p>Loading ...</p>}\r\n\r\n        {data.map((item) => {\r\n          return (\r\n            <Card\r\n              key={item.country}\r\n              country={item.country}\r\n              totalDeaths={item.totalDeaths}\r\n              totalCase={item.totalCases}\r\n              totalRecovered={item.totalRecovered}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default CoronaForCountry;\r\n"],"mappings":"0hBAAA,OAASA,OAAT,CAAkBC,SAAlB,KAAmC,UAAnC,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,6IAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,eAAkCL,QAAQ,CAAC,EAAD,CAA1C,yCAAOM,SAAP,eAAkBC,YAAlB,eACA,eAA8BP,QAAQ,CAAC,KAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,UAAS,4FAAG,kJAChBD,UAAU,CAAC,IAAD,CAAV,CADgB,sBAEOR,MAAK,CAACU,GAAN,WAClBd,OADkB,kCACcS,SADd,EAErB,CACEM,OAAO,CAAE,CACPC,aAAa,CAAEf,SADR,CADX,CAFqB,CAFP,QAEVgB,QAFU,eAUhBL,UAAU,CAAC,KAAD,CAAV,CACAJ,OAAO,CAACS,QAAQ,CAACV,IAAT,CAAcW,MAAf,CAAP,CACAC,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAZgB,sDAAH,kBAATJ,UAAS,0CAAf,CAeAX,SAAS,CAAC,UAAM,CACdW,SAAS,GACV,CAFQ,CAEN,CAACJ,SAAD,CAAYI,SAAZ,CAFM,CAAT,CAIA,mBACE,wCACE,YAAK,SAAS,CAAC,MAAf,uBACE,cACE,KAAK,CAAEJ,SADT,CAEE,QAAQ,CAAE,kBAACY,CAAD,CAAO,CACfX,YAAY,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,CACD,CAJH,CAKE,WAAW,CAAC,YALd,CAME,SAAS,CAAC,iHANZ,EADF,EADF,cAWE,aAAK,SAAS,CAAC,wBAAf,WACGZ,OAAO,eAAI,kCADd,CAGGJ,IAAI,CAACiB,GAAL,CAAS,SAACC,IAAD,CAAU,CAClB,mBACE,KAAC,IAAD,EAEE,OAAO,CAAEA,IAAI,CAACC,OAFhB,CAGE,WAAW,CAAED,IAAI,CAACE,WAHpB,CAIE,SAAS,CAAEF,IAAI,CAACG,UAJlB,CAKE,cAAc,CAAEH,IAAI,CAACI,cALvB,EACOJ,IAAI,CAACC,OADZ,CADF,CASD,CAVA,CAHH,GAXF,GADF,CA6BD,CArDD,CAsDA,cAAepB,iBAAf"},"metadata":{},"sourceType":"module"}